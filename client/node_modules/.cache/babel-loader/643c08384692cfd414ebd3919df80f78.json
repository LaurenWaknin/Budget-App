{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laure\\\\Desktop\\\\Developers Institute\\\\portfolio\\\\Budget-app\\\\frontend\\\\src\\\\Pages\\\\login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  _s();\n\n  console.log(props);\n  const [inputs, setInputs] = useState({\n    username: '',\n    password: ''\n  });\n  const [loged, setLogged] = useState(false);\n  const [err] = useState(false);\n  const navigate = useNavigate();\n\n  const handleChange = e => {\n    const value = e.target.value;\n    setInputs({ ...inputs,\n      [e.target.name]: value\n    });\n  };\n\n  console.log(inputs);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const userData = {\n      username: inputs.username,\n      password: inputs.password\n    };\n    console.log(userData);\n    await axios.post('/auth/login', userData).then(response => {\n      console.log(response.status);\n      console.log(response.data);\n\n      if (response.data.token) {\n        console.log('Token');\n        setLogged(true);\n      }\n\n      navigate('/budget');\n    }) // .then(data=>console.log(data))\n    .catch(error => {\n      if (error.response) {\n        console.log(error);\n        console.log(\"server responded\");\n      } else if (error.request) {\n        console.log(\"network error\");\n      } else {\n        console.log(error);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"username\",\n          name: \"username\",\n          value: inputs.username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          name: \"password\",\n          value: inputs.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: handleSubmit,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Don't you have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Login, \"V4sy3H8pQThVtGovXgewV7x3gYA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/laure/Desktop/Developers Institute/portfolio/Budget-app/frontend/src/Pages/login/Login.jsx"],"names":["React","Link","useNavigate","useState","axios","Login","props","console","log","inputs","setInputs","username","password","loged","setLogged","err","navigate","handleChange","e","value","target","name","handleSubmit","preventDefault","userData","post","then","response","status","data","token","catch","error","request"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link, useNavigate} from 'react-router-dom'\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\n\nconst Login = (props) => {\n    console.log(props)\n\n    const [inputs, setInputs] = useState({\n        username: '',\n        password: '',\n    })\n\n    const [loged, setLogged] = useState(false);\n\n    const [err] = useState(false)\n\n    const navigate = useNavigate()\n\n    const handleChange = (e) => {\n\n        const value = e.target.value;\n        setInputs({\n            ...inputs, [e.target.name]: value\n        });\n    }\n\n        console.log(inputs);\n        const handleSubmit = async (e) => {\n            e.preventDefault()\n            const userData = {\n                username: inputs.username,\n                password: inputs.password\n            }\n            console.log(userData);\n\n            await axios.post('/auth/login', userData)\n                .then((response) => {\n                    console.log(response.status);\n                    console.log(response.data)\n                    if (response.data.token) {\n                        console.log('Token')\n                        setLogged(true)\n                    }\n                    navigate('/budget')\n                })\n                // .then(data=>console.log(data))\n                .catch((error) => {\n                    if (error.response) {\n                        console.log(error);\n                        console.log(\"server responded\");\n                    } else if (error.request) {\n                        console.log(\"network error\");\n                    } else {\n                        console.log(error);\n                    }\n                })\n\n        }\n\n        return (\n            <div className='auth' >\n                <div className=\"shadow\">\n                    <h1>Sign In</h1>\n                    <form>\n                        <input type=\"text\" placeholder='username' name=\"username\" value={inputs.username} onChange={handleChange} />\n                        <input type=\"password\" placeholder='password' name=\"password\" value={inputs.password} onChange={handleChange} />\n                        <button type='submit' onClick={handleSubmit}>Login</button>\n                        <p>{err}</p>\n                        <span>Don't you have an account?<Link to=\"/register\">Register</Link></span>\n                    </form>\n                </div>\n            </div>\n        )\n    \n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}